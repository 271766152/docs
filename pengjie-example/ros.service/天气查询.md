# 2.1 天气查询

---

> 天气查询服务\(**Weather**\)主要用于提供国内外城市的天气、空气质量状况查询。用户可以采用时间+地点的方式来进行天气状况的查询，并且该服务支持基于时间、地点的多轮查询。例如，北京今天天气----&gt;哈尔滨呢----&gt;明天呢----&gt;重庆今天呢。

## 2.1.1 意图

> 该服务主要有四个意图\(**Action**\)用来查询基本的天气服务，具体如下表所示。
> 
> |  |  |  |  |
> | --- | --- | --- | --- |
> |  | WeatherForADay | 查询某一天的天气情况 | **哈尔滨今天**天气怎么样 \(**地点+时间**\) |
> |  | WeatherForDays | 查询某段时间的天气情况 | **哈尔滨未来3天**的天气怎么样  \(**地点+时间**\) |
> |  | PollutionADay | 查询某一天的空气情况 | **哈尔滨今天**的空气质量怎么样 \(**地点+时间**\) |
> |  | PollutionForDays | 查询某段时间的空气情况 | **哈尔滨未来3天**的空气质量怎么样 \(**地点+时间**\) |

## 2.1.2 返回结果

> 当自然语言输入一个查询天气的query时，返回结果的具体说明如下所示。

```go
{
    "status":{
        "code":0,
        "errorType":"success"
    },
    "query":"哈尔滨市今天天气如何",
    "semantic":{
        "service":"Weather",
        "action":"WeatherForADay",
        "params":{
            "city":{
                "orgin":"哈尔滨市",
                "norm":"哈尔滨",
                "code":0
            },
            "date":{
                "orgin":"今天",
                "norm":"2016-11-29",
                "code":0
            }
        }
    },
    "result":{
        "hint":"哈尔滨 今天晴转多云, 零下16度到零下5度，和昨天差不多, 多云不是阴天哦……",
        "data":[
            {
                "city":"哈尔滨",
                "date":"2016-11-29",
                "index":1,
                "maxTemp":"-5",
                "minTemp":"-16",
                "pm25":"86",
                "temperature":"-18",
                "weather":"晴转多云"
            }
        ],
        "formatType":"list"
    }
}
```

> 其中result字段为该服务\(Weather\)的具体返回字段。result.data字段为的数据字段，相应的具体含义如下。
> 
> | Field | Description |
> | --- | --- |
> | city | 用户所要查询的城市 |
> | date | 用户所要查询的日期 |
> | index | 查询的天数 |
> | maxTemp | 最高温度 |
> | minTemp | 最低温度 |
> | pm25 | 空气质量pm25 |
> | temperature | 当前温度 |
> | weather | 天气状况 |

